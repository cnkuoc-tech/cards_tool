# Ning's Card Frontend v2

å…¨æ–°çš„å‰ç«¯æ¶æ§‹ï¼Œæ”¯æ´ URL è·¯ç”±ã€é‡æ–°æ•´ç†ä¸æœƒé‡ä¾†ã€åˆ†é åŠŸèƒ½ã€‚

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
frontend-v2/
â”œâ”€â”€ index.html              # ä¸» HTMLï¼ˆSPA å…¥å£ï¼‰
â”œâ”€â”€ worker.js               # Cloudflare Workerï¼ˆæ•´åˆå‰å¾Œç«¯ï¼‰
â”œâ”€â”€ wrangler.toml           # Cloudflare è¨­å®š
â”œâ”€â”€ package.json
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ router.js           # URL è·¯ç”±ç®¡ç†
â”‚   â”œâ”€â”€ api.js              # API å‘¼å«å°è£
â”‚   â”œâ”€â”€ auth.js             # èªè­‰ç®¡ç†
â”‚   â”œâ”€â”€ app.js              # ä¸»æ‡‰ç”¨ç¨‹å¼
â”‚   â””â”€â”€ pages/              # å„é é¢
â”‚       â”œâ”€â”€ home.js         # é¦–é 
â”‚       â”œâ”€â”€ login.js        # ç™»å…¥é 
â”‚       â”œâ”€â”€ products.js     # å•†å“åˆ—è¡¨
â”‚       â””â”€â”€ orders.js       # è¨‚å–®åˆ—è¡¨ï¼ˆæ”¯æ´åˆ†é ï¼‰
```

## âœ¨ ä¸»è¦åŠŸèƒ½

### 1. URL è·¯ç”±
- âœ… é‡æ–°æ•´ç†é é¢ä¸æœƒå›åˆ°é¦–é 
- âœ… å¯ä»¥åˆ†äº«ä»»ä½•é é¢çš„é€£çµ
- âœ… ç€è¦½å™¨ä¸Šä¸€é /ä¸‹ä¸€é æ­£å¸¸é‹ä½œ
- âœ… æ”¯æ´åˆ†é ï¼ˆä¾‹å¦‚ï¼š`/orders?page=3`ï¼‰

### 2. ç‹€æ…‹ç®¡ç†
- âœ… ç™»å…¥ç‹€æ…‹ä¿å­˜ï¼ˆlocalStorageï¼Œ7å¤©æœ‰æ•ˆï¼‰
- âœ… è³¼ç‰©è»Šä¿å­˜
- âœ… URL åƒæ•¸ä¿ç•™ç¯©é¸/æœå°‹æ¢ä»¶

### 3. API æ•´åˆ
- âœ… çµ±ä¸€çš„ API å‘¼å«ä»‹é¢
- âœ… è‡ªå‹•è™•ç† Loading ç‹€æ…‹
- âœ… éŒ¯èª¤è™•ç†
- âœ… CORS æ”¯æ´

## ğŸš€ éƒ¨ç½²æ­¥é©Ÿ

### Step 1: å®‰è£ä¾è³´
\`\`\`bash
cd /Users/kuoch/NINGSCARDGASDEMO/frontend-v2
npm install
\`\`\`

### Step 2: è¨­å®šç’°å¢ƒè®Šæ•¸
\`\`\`bash
# è¨­å®š Supabase Anon Key
wrangler secret put SUPABASE_ANON_KEY
# è¼¸å…¥ä½ çš„ Supabase Anon Key
\`\`\`

### Step 3: æœ¬åœ°æ¸¬è©¦
\`\`\`bash
npm run dev
# æ‰“é–‹ http://localhost:8787
\`\`\`

### Step 4: éƒ¨ç½²åˆ° Cloudflare
\`\`\`bash
npm run deploy
# éƒ¨ç½²åˆ° https://supabasefrontdemo.cnkuoc.workers.dev/
\`\`\`

## ğŸ“ API ç«¯é»

### ç™»å…¥
\`\`\`
POST /api/login
Body: { "phone": "0912345678", "birthday": "0815" }
Response: { "success": true, "user": {...} }
\`\`\`

### å•†å“åˆ—è¡¨
\`\`\`
GET /api/products?category=all&status=available
Response: { "success": true, "products": [...] }
\`\`\`

### è¨‚å–®åˆ—è¡¨ï¼ˆæ”¯æ´åˆ†é ï¼‰
\`\`\`
GET /api/orders?page=1&per_page=20&search=å¤§è°·
Response: { 
  "success": true, 
  "orders": [...],
  "stats": { "total": 100, "pending": 20, ... },
  "pagination": { "current_page": 1, "total_pages": 5, ... }
}
\`\`\`

## ğŸ”§ é–‹ç™¼æ³¨æ„äº‹é …

### ç›®å‰çš„ç°¡åŒ–ç‰ˆæœ¬
ç¾åœ¨çš„ `worker.js` æ˜¯ç°¡åŒ–ç‰ˆæœ¬ï¼ŒJS æª”æ¡ˆå…§å®¹æ˜¯å…§åµŒçš„ã€‚

### å®Œæ•´ç‰ˆæœ¬çš„åšæ³•
1. **ä½¿ç”¨ Cloudflare Pages**ï¼ˆæ¨è–¦ï¼‰
   - å°‡ `index.html` å’Œ `js/` éƒ¨ç½²åˆ° Pages
   - Worker åªè™•ç† API
   
2. **ä½¿ç”¨ Workers Assets**
   - å°‡æ‰€æœ‰éœæ…‹æª”æ¡ˆæ‰“åŒ…åˆ° Worker
   - ä½¿ç”¨ `wrangler assets` åŠŸèƒ½

## ğŸ“‹ å¾…å¯¦ä½œåŠŸèƒ½

- [ ] åœ˜æ‹†åˆ—è¡¨é é¢
- [ ] PSA é‘‘å®šé é¢
- [ ] æœƒå“¡è³‡æ–™é é¢
- [ ] é‹å‹¢æŠ½ç±¤é é¢
- [ ] è³¼ç‰©è»Šé é¢
- [ ] å•†å“è©³æƒ…é é¢
- [ ] ä»˜æ¬¾åŠŸèƒ½
- [ ] ç¶ ç•Œé‡‘æµæ•´åˆ

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **æ¸¬è©¦éƒ¨ç½²** - éƒ¨ç½²åˆ° Cloudflare æ¸¬è©¦åŸºæœ¬åŠŸèƒ½
2. **API å®Œå–„** - å¯¦ä½œæ‰€æœ‰ API ç«¯é»
3. **é é¢å®Œæˆ** - å®Œæˆæ‰€æœ‰é é¢
4. **ç¶ ç•Œæ•´åˆ** - æ•´åˆä»˜æ¬¾åŠŸèƒ½
5. **æ­£å¼ä¸Šç·š** - æ¸¬è©¦å®Œæˆå¾Œæ­£å¼ä¸Šç·š

## ğŸ’¡ æŠ€è¡“äº®é»

- **ç„¡æ¡†æ¶** - ä½¿ç”¨ Vanilla JavaScriptï¼Œè¼‰å…¥é€Ÿåº¦å¿«
- **SPA è·¯ç”±** - History API å¯¦ç¾ç„¡é‡æ–°è¼‰å…¥è·¯ç”±
- **æ¨¡çµ„åŒ–** - æ¯å€‹é é¢ç¨ç«‹æª”æ¡ˆï¼Œæ˜“æ–¼ç¶­è­·
- **éŸ¿æ‡‰å¼** - æ”¯æ´æ‰‹æ©Ÿã€å¹³æ¿ã€æ¡Œé¢
- **æ•ˆèƒ½å„ªåŒ–** - æŒ‰éœ€è¼‰å…¥ã€å¿«å–æ©Ÿåˆ¶
